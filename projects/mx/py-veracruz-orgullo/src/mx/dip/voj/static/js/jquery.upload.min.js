(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):c(jQuery)})(function(c,a){var b=0,d=Array.prototype.slice,e=c.cleanData;c.cleanData=function(a){for(var b=0,d;null!=(d=a[b]);b++)try{c(d).triggerHandler("remove")}catch(h){}e(a)};c.widget=function(a,b,d){var e,j,f,m,n=a.split(".")[0];a=a.split(".")[1];e=n+"-"+a;d||(d=b,b=c.Widget);c.expr[":"][e.toLowerCase()]=function(a){return!!c.data(a,e)};c[n]=c[n]||{};j=c[n][a];f=c[n][a]=function(a,c){if(!this._createWidget)return new f(a,
c);arguments.length&&this._createWidget(a,c)};c.extend(f,j,{version:d.version,_proto:c.extend({},d),_childConstructors:[]});m=new b;m.options=c.widget.extend({},m.options);c.each(d,function(a,e){if(c.isFunction(e)){var g=function(){return b.prototype[a].apply(this,arguments)},h=function(c){return b.prototype[a].apply(this,c)};d[a]=function(){var a=this._super,c=this._superApply,b;this._super=g;this._superApply=h;b=e.apply(this,arguments);this._super=a;this._superApply=c;return b}}});f.prototype=c.widget.extend(m,
{widgetEventPrefix:m.widgetEventPrefix||a},d,{constructor:f,namespace:n,widgetName:a,widgetBaseClass:e,widgetFullName:e});j?(c.each(j._childConstructors,function(a,b){var d=b.prototype;c.widget(d.namespace+"."+d.widgetName,f,b._proto)}),delete j._childConstructors):b._childConstructors.push(f);c.widget.bridge(a,f)};c.widget.extend=function(b){for(var e=d.call(arguments,1),l=0,h=e.length,j,f;l<h;l++)for(j in e[l])f=e[l][j],e[l].hasOwnProperty(j)&&f!==a&&(b[j]=c.isPlainObject(f)?c.isPlainObject(b[j])?
c.widget.extend({},b[j],f):c.widget.extend({},f):f);return b};c.widget.bridge=function(b,e){var l=e.prototype.widgetFullName;c.fn[b]=function(h){var j="string"===typeof h,f=d.call(arguments,1),m=this;h=!j&&f.length?c.widget.extend.apply(null,[h].concat(f)):h;j?this.each(function(){var d,e=c.data(this,l);if(!e)return c.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+h+"'");if(!c.isFunction(e[h])||"_"===h.charAt(0))return c.error("no such method '"+h+"' for "+
b+" widget instance");d=e[h].apply(e,f);if(d!==e&&d!==a)return m=d&&d.jquery?m.pushStack(d.get()):d,!1}):this.each(function(){var a=c.data(this,l);a?a.option(h||{})._init():new e(h,this)});return m}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,d){d=c(d||this.defaultElement||this)[0];this.element=c(d);this.uuid=b++;this.eventNamespace="."+this.widgetName+
this.uuid;this.options=c.widget.extend({},this.options,this._getCreateOptions(),a);this.bindings=c();this.hoverable=c();this.focusable=c();d!==this&&(c.data(d,this.widgetName,this),c.data(d,this.widgetFullName,this),this._on(this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=c(d.style?d.ownerDocument:d.document||d),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},
_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},
_destroy:c.noop,widget:function(){return this.element},option:function(b,d){var e=b,h,j,f;if(0===arguments.length)return c.widget.extend({},this.options);if("string"===typeof b)if(e={},h=b.split("."),b=h.shift(),h.length){j=e[b]=c.widget.extend({},this.options[b]);for(f=0;f<h.length-1;f++)j[h[f]]=j[h[f]]||{},j=j[h[f]];b=h.pop();if(d===a)return j[b]===a?null:j[b];j[b]=d}else{if(d===a)return this.options[b]===a?null:this.options[b];e[b]=d}this._setOptions(e);return this},_setOptions:function(a){for(var b in a)this._setOption(b,
a[b]);return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,b){var d,e=this;b?(a=d=c(a),this.bindings=this.bindings.add(a)):(b=a,a=this.element,
d=this.widget());c.each(b,function(b,f){function k(){if(!(!0===e.options.disabled||c(this).hasClass("ui-state-disabled")))return("string"===typeof f?e[f]:f).apply(e,arguments)}"string"!==typeof f&&(k.guid=f.guid=f.guid||k.guid||c.guid++);var n=b.match(/^(\w+)\s*(.*)$/),p=n[1]+e.eventNamespace;(n=n[2])?d.delegate(n,p,k):a.bind(p,k)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"===
typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){c(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){c(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){c(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){c(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,b,d){var e,
j=this.options[a];d=d||{};b=c.Event(b);b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();b.target=this.element[0];if(a=b.originalEvent)for(e in a)e in b||(b[e]=a[e]);this.element.trigger(b,d);return!(c.isFunction(j)&&!1===j.apply(this.element[0],[b].concat(d))||b.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(a,b){c.Widget.prototype["_"+a]=function(d,e,j){"string"===typeof e&&(e={effect:e});var f,m=!e?a:!0===e||"number"===typeof e?b:e.effect||b;e=
e||{};"number"===typeof e&&(e={duration:e});f=!c.isEmptyObject(e);e.complete=j;e.delay&&d.delay(e.delay);if(f&&c.effects&&(c.effects.effect[m]||!1!==c.uiBackCompat&&c.effects[m]))d[a](e);else if(m!==a&&d[m])d[m](e.duration,e.easing,j);else d.queue(function(b){c(this)[a]();j&&j.call(d[0]);b()})}});!1!==c.uiBackCompat&&(c.Widget.prototype._getCreateOptions=function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]})});

(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):c(window.jQuery)})(function(c){var a=0;c.ajaxTransport("iframe",function(b){if(b.async&&("POST"===b.type||"GET"===b.type)){var d,e;return{send:function(g,k){d=c('<form style="display:none;"></form>');d.attr("accept-charset",b.formAcceptCharset);e=c('<iframe src="javascript:false;" name="iframe-transport-'+(a+=1)+'"></iframe>').bind("load",function(){var a,g=c.isArray(b.paramName)?b.paramName:[b.paramName];e.unbind("load").bind("load",
function(){var a;try{if(a=e.contents(),!a.length||!a[0].firstChild)throw Error();}catch(b){a=void 0}k(200,"success",{iframe:a});c('<iframe src="javascript:false;"></iframe>').appendTo(d);d.remove()});d.prop("target",e.prop("name")).prop("action",b.url).prop("method",b.type);b.formData&&c.each(b.formData,function(a,b){c('<input type="hidden"/>').prop("name",b.name).val(b.value).appendTo(d)});b.fileInput&&(b.fileInput.length&&"POST"===b.type)&&(a=b.fileInput.clone(),b.fileInput.after(function(b){return a[b]}),
b.paramName&&b.fileInput.each(function(a){c(this).prop("name",g[a]||b.paramName)}),d.append(b.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"));d.submit();a&&a.length&&b.fileInput.each(function(b,d){var e=c(a[b]);c(d).prop("name",e.prop("name"));e.replaceWith(d)})});d.append(e).appendTo(document.body)},abort:function(){e&&e.unbind("load").prop("src","javascript".concat(":false;"));d&&d.remove()}}}});c.ajaxSetup({converters:{"iframe text":function(a){return a&&
c(a[0].body).text()},"iframe json":function(a){return a&&c.parseJSON(c(a[0].body).text())},"iframe html":function(a){return a&&c(a[0].body).html()},"iframe script":function(a){return a&&c.globalEval(c(a[0].body).text())}}})});

(function(c){"function"===typeof define&&define.amd?define(["jquery","jquery.ui.widget"],c):c(window.jQuery)})(function(c){c.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader);c.support.xhrFormDataFileUpload=!!window.FormData;c.widget("blueimp.fileupload",{options:{dropZone:c(document),pasteZone:c(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,
redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(a){return a.serializeArray()},add:function(a,b){b.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date;this.bitrate=this.loaded=0;this.getBitrate=function(a,b,c){var e=
a-this.timestamp;if(!this.bitrate||!c||e>c)this.bitrate=8*(b-this.loaded)*(1E3/e),this.loaded=b,this.timestamp=a;return this.bitrate}},_isXHRUpload:function(a){return!a.forceIframeTransport&&(!a.multipart&&c.support.xhrFileUpload||c.support.xhrFormDataFileUpload)},_getFormData:function(a){var b;return"function"===typeof a.formData?a.formData(a.form):c.isArray(a.formData)?a.formData:a.formData?(b=[],c.each(a.formData,function(a,c){b.push({name:a,value:c})}),b):[]},_getTotal:function(a){var b=0;c.each(a,
function(a,c){b+=c.size||1});return b},_onProgress:function(a,b){if(a.lengthComputable){var c=+new Date,e,g;if(!b._time||!b.progressInterval||!(c-b._time<b.progressInterval&&a.loaded!==a.total))b._time=c,e=b.total||this._getTotal(b.files),g=parseInt(a.loaded/a.total*(b.chunkSize||e),10)+(b.uploadedBytes||0),this._loaded+=g-(b.loaded||b.uploadedBytes||0),b.lengthComputable=!0,b.loaded=g,b.total=e,b.bitrate=b._bitrateTimer.getBitrate(c,g,b.bitrateInterval),this._trigger("progress",a,b),this._trigger("progressall",
a,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(c,this._loaded,b.bitrateInterval)})}},_initProgressListener:function(a){var b=this,d=a.xhr?a.xhr():c.ajaxSettings.xhr();d.upload&&(c(d.upload).bind("progress",function(c){var d=c.originalEvent;c.lengthComputable=d.lengthComputable;c.loaded=d.loaded;c.total=d.total;b._onProgress(c,a)}),a.xhr=function(){return d})},_initXHRData:function(a){var b,d=a.files[0],e=a.multipart||!c.support.xhrFileUpload,g=a.paramName[0];
a.headers=a.headers||{};a.contentRange&&(a.headers["Content-Range"]=a.contentRange);e?c.support.xhrFormDataFileUpload&&(a.postMessage?(b=this._getFormData(a),a.blob?b.push({name:g,value:a.blob}):c.each(a.files,function(c,d){b.push({name:a.paramName[c]||g,value:d})})):(a.formData instanceof FormData?b=a.formData:(b=new FormData,c.each(this._getFormData(a),function(a,c){b.append(c.name,c.value)})),a.blob?(a.headers["Content-Disposition"]='attachment; filename="'+encodeURI(d.name)+'"',b.append(g,a.blob,
d.name)):c.each(a.files,function(c,d){if(window.Blob&&d instanceof Blob||window.File&&d instanceof File)b.append(a.paramName[c]||g,d,d.name)})),a.data=b):(a.headers["Content-Disposition"]='attachment; filename="'+encodeURI(d.name)+'"',a.contentType=d.type,a.data=a.blob||d);a.blob=null},_initIframeSettings:function(a){a.dataType="iframe "+(a.dataType||"");a.formData=this._getFormData(a);a.redirect&&c("<a></a>").prop("href",a.url).prop("host")!==location.host&&a.formData.push({name:a.redirectParamName||
"redirect",value:a.redirect})},_initDataSettings:function(a){this._isXHRUpload(a)?(this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),a.postMessage&&(a.dataType="postmessage "+(a.dataType||""))):this._initIframeSettings(a,"iframe")},_getParamName:function(a){var b=c(a.fileInput),d=a.paramName;d?c.isArray(d)||(d=[d]):(d=[],b.each(function(){for(var a=c(this),b=a.prop("name")||"files[]",a=(a.prop("files")||[1]).length;a;)d.push(b),a-=1}),d.length||(d=[b.prop("name")||
"files[]"]));return d},_initFormSettings:function(a){if(!a.form||!a.form.length)a.form=c(a.fileInput.prop("form")),a.form.length||(a.form=c(this.options.fileInput.prop("form")));a.paramName=this._getParamName(a);a.url||(a.url=a.form.prop("action")||location.href);a.type=(a.type||a.form.prop("method")||"").toUpperCase();"POST"!==a.type&&"PUT"!==a.type&&(a.type="POST");a.formAcceptCharset||(a.formAcceptCharset=a.form.attr("accept-charset"))},_getAJAXSettings:function(a){a=c.extend({},this.options,a);
this._initFormSettings(a);this._initDataSettings(a);return a},_enhancePromise:function(a){a.success=a.done;a.error=a.fail;a.complete=a.always;return a},_getXHRPromise:function(a,b,d){var e=c.Deferred(),g=e.promise();b=b||this.options.context||g;!0===a?e.resolveWith(b,d):!1===a&&e.rejectWith(b,d);g.abort=e.promise;return this._enhancePromise(g)},_getUploadedBytes:function(a){return(a=(a=(a=a.getResponseHeader("Range"))&&a.split("-"))&&1<a.length&&parseInt(a[1],10))&&a+1},_chunkedUpload:function(a,
b){var d=this,e=a.files[0],g=e.size,k=a.uploadedBytes=a.uploadedBytes||0,l=a.maxChunkSize||g,h=e.slice||e.webkitSlice||e.mozSlice,j=c.Deferred(),f=j.promise(),m,n;if(!this._isXHRUpload(a)||(!h||!(k||l<g))||a.data)return!1;if(b)return!0;if(k>=g)return e.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,a.context,[null,"error",e.error]);n=function(){var b=c.extend({},a);b.blob=h.call(e,k,k+l,e.type);b.chunkSize=b.blob.size;b.contentRange="bytes "+k+"-"+(k+b.chunkSize-1)+"/"+g;d._initXHRData(b);
d._initProgressListener(b);m=(c.ajax(b)||d._getXHRPromise(!1,b.context)).done(function(e,f,h){k=d._getUploadedBytes(h)||k+b.chunkSize;b.loaded||d._onProgress(c.Event("progress",{lengthComputable:!0,loaded:k-b.uploadedBytes,total:k-b.uploadedBytes}),b);a.uploadedBytes=b.uploadedBytes=k;k<g?n():j.resolveWith(b.context,[e,f,h])}).fail(function(a,c,d){j.rejectWith(b.context,[a,c,d])})};this._enhancePromise(f);f.abort=function(){return m.abort()};n();return f},_beforeSend:function(a,b){0===this._active&&
(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer);this._active+=1;this._loaded+=b.uploadedBytes||0;this._total+=this._getTotal(b.files)},_onDone:function(a,b,d,e){this._isXHRUpload(e)||this._onProgress(c.Event("progress",{lengthComputable:!0,loaded:1,total:1}),e);e.result=a;e.textStatus=b;e.jqXHR=d;this._trigger("done",null,e)},_onFail:function(a,b,c,e){e.jqXHR=a;e.textStatus=b;e.errorThrown=c;this._trigger("fail",null,e);e.recalculateProgress&&(this._loaded-=e.loaded||e.uploadedBytes||
0,this._total-=e.total||this._getTotal(e.files))},_onAlways:function(a,b,c,e){this._active-=1;e.textStatus=b;c&&c.always?(e.jqXHR=c,e.result=a):(e.jqXHR=a,e.errorThrown=c);this._trigger("always",null,e);0===this._active&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(a,b){var d=this,e,g,k,l,h=d._getAJAXSettings(b),j=function(){d._sending+=1;h._bitrateTimer=new d._BitrateTimer;return e=e||((g||!1===d._trigger("send",a,h))&&d._getXHRPromise(!1,h.context,
g)||d._chunkedUpload(h)||c.ajax(h)).done(function(a,b,c){d._onDone(a,b,c,h)}).fail(function(a,b,c){d._onFail(a,b,c,h)}).always(function(a,b,c){d._sending-=1;d._onAlways(a,b,c,h);if(h.limitConcurrentUploads&&h.limitConcurrentUploads>d._sending)for(a=d._slots.shift();a;){if(b=a.state?"pending"===a.state():!a.isRejected()){a.resolve();break}a=d._slots.shift()}})};this._beforeSend(a,h);return this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?
(1<this.options.limitConcurrentUploads?(k=c.Deferred(),this._slots.push(k),l=k.pipe(j)):l=this._sequence=this._sequence.pipe(j,j),l.abort=function(){g=[void 0,"abort","abort"];return!e?(k&&k.rejectWith(h.context,g),j()):e.abort()},this._enhancePromise(l)):j()},_onAdd:function(a,b){var d=this,e=!0,g=c.extend({},this.options,b),k=g.limitMultiFileUploads,l=this._getParamName(g),h,j,f;if(!g.singleFileUploads&&!k||!this._isXHRUpload(g))j=[b.files],h=[l];else if(!g.singleFileUploads&&k){j=[];h=[];for(f=
0;f<b.files.length;f+=k)j.push(b.files.slice(f,f+k)),g=l.slice(f,f+k),g.length||(g=l),h.push(g)}else h=l;b.originalFiles=b.files;c.each(j||b.files,function(f,g){var k=c.extend({},b);k.files=j?g:[g];k.paramName=h[f];k.submit=function(){return k.jqXHR=this.jqXHR=!1!==d._trigger("submit",a,this)&&d._onSend(a,this)};return e=d._trigger("add",a,k)});return e},_replaceFileInput:function(a){var b=a.clone(!0);c("<form></form>").append(b)[0].reset();a.after(b).detach();c.cleanData(a.unbind("remove"));this.options.fileInput=
this.options.fileInput.map(function(c,e){return e===a[0]?b[0]:e});a[0]===this.element[0]&&(this.element=b)},_handleFileTreeEntry:function(a,b){var d=this,e=c.Deferred(),g=function(b){b&&!b.entry&&(b.entry=a);e.resolve([b])},k;b=b||"";a.isFile?a._file?(a._file.relativePath=b,e.resolve(a._file)):a.file(function(a){a.relativePath=b;e.resolve(a)},g):a.isDirectory?(k=a.createReader(),k.readEntries(function(c){d._handleFileTreeEntries(c,b+a.name+"/").done(function(a){e.resolve(a)}).fail(g)},g)):e.resolve([]);
return e.promise()},_handleFileTreeEntries:function(a,b){var d=this;return c.when.apply(c,c.map(a,function(a){return d._handleFileTreeEntry(a,b)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(a){a=a||{};var b=a.items;return b&&b.length&&(b[0].webkitGetAsEntry||b[0].getAsEntry)?this._handleFileTreeEntries(c.map(b,function(a){var b;if(a.webkitGetAsEntry){if(b=a.webkitGetAsEntry())b._file=a.getAsFile();return b}return a.getAsEntry()})):c.Deferred().resolve(c.makeArray(a.files)).promise()},
_getSingleFileInputFiles:function(a){a=c(a);var b=a.prop("webkitEntries")||a.prop("entries");if(b&&b.length)return this._handleFileTreeEntries(b);b=c.makeArray(a.prop("files"));if(b.length)void 0===b[0].name&&b[0].fileName&&c.each(b,function(a,b){b.name=b.fileName;b.size=b.fileSize});else{a=a.prop("value");if(!a)return c.Deferred().resolve([]).promise();b=[{name:a.replace(/^.*\\/,"")}]}return c.Deferred().resolve(b).promise()},_getFileInputFiles:function(a){return!(a instanceof c)||1===a.length?this._getSingleFileInputFiles(a):
c.when.apply(c,c.map(a,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(a){var b=this,d={fileInput:c(a.target),form:c(a.target.form)};this._getFileInputFiles(d.fileInput).always(function(c){d.files=c;b.options.replaceFileInput&&b._replaceFileInput(d.fileInput);!1!==b._trigger("change",a,d)&&b._onAdd(a,d)})},_onPaste:function(a){var b=a.originalEvent.clipboardData,d={files:[]};c.each(b&&b.items||[],function(a,b){var c=b.getAsFile&&
b.getAsFile();c&&d.files.push(c)});if(!1===this._trigger("paste",a,d)||!1===this._onAdd(a,d))return!1},_onDrop:function(a){var b=this,c=a.dataTransfer=a.originalEvent.dataTransfer,e={};c&&(c.files&&c.files.length)&&a.preventDefault();this._getDroppedFiles(c).always(function(c){e.files=c;!1!==b._trigger("drop",a,e)&&b._onAdd(a,e)})},_onDragOver:function(a){var b=a.dataTransfer=a.originalEvent.dataTransfer;if(!1===this._trigger("dragover",a))return!1;b&&-1!==c.inArray("Files",b.types)&&(b.dropEffect=
"copy",a.preventDefault())},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste}));this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(a,b){var d=-1!==c.inArray(a,this._refreshOptionsList);
d&&this._destroyEventHandlers();this._super(a,b);d&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var a=this.options;void 0===a.fileInput?a.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):a.fileInput instanceof c||(a.fileInput=c(a.fileInput));a.dropZone instanceof c||(a.dropZone=c(a.dropZone));a.pasteZone instanceof c||(a.pasteZone=c(a.pasteZone))},_create:function(){c.extend(this.options,c(this.element[0].cloneNode(!1)).data());
this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=this._loaded=this._total=0;this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(a){var b=this;a&&!this.options.disabled&&(a.fileInput&&!a.files?this._getFileInputFiles(a.fileInput).always(function(c){a.files=c;b._onAdd(null,a)}):(a.files=c.makeArray(a.files),this._onAdd(null,a)))},send:function(a){if(a&&!this.options.disabled){if(a.fileInput&&!a.files){var b=
this,d=c.Deferred(),e=d.promise(),g,k;e.abort=function(){k=!0;if(g)return g.abort();d.reject(null,"abort","abort");return e};this._getFileInputFiles(a.fileInput).always(function(c){k||(a.files=c,g=b._onSend(null,a).then(function(a,b,c){d.resolve(a,b,c)},function(a,b,c){d.reject(a,b,c)}))});return this._enhancePromise(e)}a.files=c.makeArray(a.files);if(a.files.length)return this._onSend(null,a)}return this._getXHRPromise(!1,a&&a.context)}})});